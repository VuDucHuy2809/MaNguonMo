{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/\\u0110\\u1ED3 \\xE1n M\\xE3 Ngu\\u1ED3n M\\u1EDF/MaNguonMo/DoAn/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/xampp/htdocs/\\u0110\\u1ED3 \\xE1n M\\xE3 Ngu\\u1ED3n M\\u1EDF/MaNguonMo/DoAn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/xampp/htdocs/\\u0110\\u1ED3 \\xE1n M\\xE3 Ngu\\u1ED3n M\\u1EDF/MaNguonMo/DoAn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/xampp/htdocs/\\u0110\\u1ED3 \\xE1n M\\xE3 Ngu\\u1ED3n M\\u1EDF/MaNguonMo/DoAn/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useReducer}from'react';import{Link}from'react-router-dom';import data from'../../../data';import logger from'use-reducer-logger';import ProductsMain2 from'./ProductsMain2';import axios from'axios';import LoadingBox from'../../err/LoadingBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var reducer=function reducer(state,action){switch(action.type){case'FETCH_REQUEST':return _objectSpread(_objectSpread({},state),{},{loading:true});case'FETCH_SUCCESS':return _objectSpread(_objectSpread({},state),{},{products:action.payload,loading:false});case'FETCH_FAIL':return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});default:return state;}};function Products(){var _useReducer=useReducer(logger(reducer),{products:[],loading:true,error:''}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,products=_useReducer2$.products,dispatch=_useReducer2[1];// const [products, setProducts] = useState([]);\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'FETCH_REQUEST'});_context.prev=1;_context.next=4;return axios.get('/api/products');case 4:result=_context.sent;dispatch({type:'FETCH_SUCCESS',payload:result.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:'FETCH_FAIL',payload:_context.t0.message});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);// const [products, setProducts] = useState([]);\nreturn/*#__PURE__*/ (// <div>\n//     {data.products.map((product) =>(<ProductsMain2 key={product._id} product={product}></ProductsMain2>))}\n// </div>\n_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"new-collections\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"animated wow zoomIn\",\"data-wow-delay\":\".5s\",children:\"New Collections\"}),/*#__PURE__*/_jsx(\"p\",{className:\"est animated wow zoomIn\",\"data-wow-delay\":\".5s\",children:\"No need to change the entire wardrobe, with just a few items and these simple tips, you will still be \\\"cooler\\\" in the eyes of the opposite person.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-collections-grids\",children:[/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ProductsMain2,{product:product})},product.slug);})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\",children:\" \"})]})]})})}));}export default Products;","map":{"version":3,"names":["React","useEffect","useState","useReducer","Link","data","logger","ProductsMain2","axios","LoadingBox","reducer","state","action","type","loading","products","payload","error","Products","dispatch","fetchData","get","result","message","map","product","slug"],"sources":["C:/xampp/htdocs/Đồ án Mã Nguồn Mở/MaNguonMo/DoAn/src/components/mainpages/products/Products.js"],"sourcesContent":["import React, {useEffect, useState, useReducer } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport data from '../../../data'\r\nimport logger from 'use-reducer-logger';\r\nimport ProductsMain2 from './ProductsMain2'\r\nimport axios from 'axios'\r\nimport LoadingBox from '../../err/LoadingBox';\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case 'FETCH_REQUEST':\r\n        return { ...state, loading: true };\r\n      case 'FETCH_SUCCESS':\r\n        return { ...state, products: action.payload, loading: false };\r\n      case 'FETCH_FAIL':\r\n        return { ...state, loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n\r\nfunction Products() {\r\n    const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\r\n        products: [],\r\n        loading: true,\r\n        error: '',\r\n      });\r\n      // const [products, setProducts] = useState([]);\r\n      useEffect(() => {\r\n        const fetchData = async () => {\r\n          dispatch({ type: 'FETCH_REQUEST' });\r\n          try {\r\n            const result = await axios.get('/api/products');\r\n            dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\r\n          } catch (err) {\r\n            dispatch({ type: 'FETCH_FAIL', payload: err.message });\r\n          }\r\n    \r\n          // setProducts(result.data);\r\n        };\r\n        fetchData();\r\n      }, []);\r\n    // const [products, setProducts] = useState([]);\r\n  return (\r\n    // <div>\r\n    //     {data.products.map((product) =>(<ProductsMain2 key={product._id} product={product}></ProductsMain2>))}\r\n    // </div>\r\n        <div>\r\n            <div className=\"new-collections\">\r\n                <div className=\"container\">\r\n                    <h3 className=\"animated wow zoomIn\" data-wow-delay=\".5s\">New Collections</h3>\r\n                    <p className=\"est animated wow zoomIn\" data-wow-delay=\".5s\">No need to change the entire wardrobe, with just a few items and these simple tips, you will still be \"cooler\" in the eyes of the opposite person.</p>\r\n                    <div className=\"new-collections-grids\">\r\n                            <div>{ loading ? (\r\n                                <LoadingBox></LoadingBox>\r\n                            ) : error ? (\r\n                                <div>{error}</div>\r\n                            ) : (\r\n                                products.map((product) =>(\r\n                                  <div key={product.slug}>\r\n                                    <ProductsMain2  product={product}></ProductsMain2>\r\n                                  </div>\r\n                                )))}\r\n                            </div>\r\n                    <div className=\"clearfix\"> </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Products"],"mappings":"+oBAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,CAAoCC,UAApC,KAAsD,OAAtD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,KAAP,KAAiB,eAAjB,CACA,MAAOC,OAAP,KAAmB,oBAAnB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,sBAAvB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,eAAL,CACE,sCAAYF,KAAZ,MAAmBG,OAAO,CAAE,IAA5B,GACF,IAAK,eAAL,CACE,sCAAYH,KAAZ,MAAmBI,QAAQ,CAAEH,MAAM,CAACI,OAApC,CAA6CF,OAAO,CAAE,KAAtD,GACF,IAAK,YAAL,CACE,sCAAYH,KAAZ,MAAmBG,OAAO,CAAE,KAA5B,CAAmCG,KAAK,CAAEL,MAAM,CAACI,OAAjD,GACF,QACE,MAAOL,MAAP,CARJ,CAUD,CAXH,CAcA,QAASO,SAAT,EAAoB,CAChB,gBAAiDf,UAAU,CAACG,MAAM,CAACI,OAAD,CAAP,CAAkB,CACzEK,QAAQ,CAAE,EAD+D,CAEzED,OAAO,CAAE,IAFgE,CAGzEG,KAAK,CAAE,EAHkE,CAAlB,CAA3D,0EAASH,OAAT,eAASA,OAAT,CAAkBG,KAAlB,eAAkBA,KAAlB,CAAyBF,QAAzB,eAAyBA,QAAzB,CAAqCI,QAArC,iBAKE;AACAlB,SAAS,CAAC,UAAM,CACd,GAAMmB,UAAS,4FAAG,gJAChBD,QAAQ,CAAC,CAAEN,IAAI,CAAE,eAAR,CAAD,CAAR,CADgB,sCAGOL,MAAK,CAACa,GAAN,CAAU,eAAV,CAHP,QAGRC,MAHQ,eAIdH,QAAQ,CAAC,CAAEN,IAAI,CAAE,eAAR,CAAyBG,OAAO,CAAEM,MAAM,CAACjB,IAAzC,CAAD,CAAR,CAJc,+EAMdc,QAAQ,CAAC,CAAEN,IAAI,CAAE,YAAR,CAAsBG,OAAO,CAAE,YAAIO,OAAnC,CAAD,CAAR,CANc,oEAAH,kBAATH,UAAS,0CAAf,CAWAA,SAAS,GACV,CAbQ,CAaN,EAbM,CAAT,CAcF;AACF,oBACE;AACA;AACA;AACI,kCACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,qBAAd,CAAoC,iBAAe,KAAnD,6BADJ,cAEI,UAAG,SAAS,CAAC,yBAAb,CAAuC,iBAAe,KAAtD,kKAFJ,cAGI,aAAK,SAAS,CAAC,uBAAf,wBACQ,qBAAON,OAAO,cACV,KAAC,UAAD,IADU,CAEVG,KAAK,cACL,qBAAMA,KAAN,EADK,CAGLF,QAAQ,CAACS,GAAT,CAAa,SAACC,OAAD,qBACX,kCACE,KAAC,aAAD,EAAgB,OAAO,CAAEA,OAAzB,EADF,EAAUA,OAAO,CAACC,IAAlB,CADW,EAAb,CALJ,EADR,cAYA,YAAK,SAAS,CAAC,UAAf,eAZA,GAHJ,GADJ,EADJ,EAJN,EA2BD,CAED,cAAeR,SAAf"},"metadata":{},"sourceType":"module"}